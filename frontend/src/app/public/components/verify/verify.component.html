<p-toast class="absolute"/>

<main class="h-screen w-full flex align-items-center justify-content-center">
	<content class="flex flex-column gap-3 w-15rem">
		<p class="text-2xl font-semibold">Nuova password</p>

		<form [formGroup]="form" class="flex flex-column gap-2">

			<div class="flex gap-1 flex-column">
				<label for="password">Password</label>
				<p-password formControlName="password" id="password" type="password" placeholder="Inserisci la password" styleClass="w-full" weakLabel="Debole" mediumLabel="Media" strongLabel="Forte" [toggleMask]="true" [feedback]="true" promptLabel="Crea una password" [inputStyle]="{ 'width': '100%' }">
					<ng-template #header>
						<div class="font-semibold text-xm mb-4">Seleziona una password</div>
					</ng-template>
					<ng-template #footer>
						<p-divider />
						<ul class="pl-2 ml-2 my-0 leading-normal">
							<li>Almeno una minuscola</li>
							<li>Almeno una maiuscola</li>
							<li>Almeno un numero</li>
							<li>Minimo 8 caratteri</li>
						</ul>
					</ng-template>
				</p-password>
			</div>

			<div class="flex gap-1 flex-column">
				<label for="password">Conferma password</label>
				<p-password formControlName="passwordConfirm" id="passwordConfirm" type="password" placeholder="Conferma la password" styleClass="w-full" [toggleMask]="true" [feedback]="false" [inputStyle]="{ 'width': '100%' }"/>
			</div>

			<small *ngIf="form.errors?.['mismatch'] && (passwordConfirm.dirty && passwordConfirm.value.length > 0)" class="text-red-500">Le password non corrispondono</small>

			<div class="flex gap-2 flex-column mt-2">
				<p-button type="submit" label="Conferma" styleClass="w-full" [disabled]="!form.valid" (click)="verify()"/>
				<p-button [routerLink]="['/login']" label="annulla" outlined="true" severity="secondary" styleClass="w-full" />
			</div>
		</form>

	</content>
</main>