<p-toast class="absolute" />

<main class="max-w-20rem m-auto mt-3 flex flex-column gap-3" routerLinkActive="router-link-active">

    <div>
        <img src="./logo-full.svg" alt="vcarder_logo" height="50"
            style="position: fixed; bottom: 1rem; opacity: .25; display: flex; left: 50%; transform: translate(-50%, 0);" />
    </div>

    <p-button *ngIf="isAdmin" [disabled]="!isAdmin" label="Dashboard" icon="pi pi-arrow-left" severity="secondary"
        outlined="true" [routerLink]="['/private/dashboard']" />

    <div *ngIf="userData" class="flex flex-column gap-2">
        <!-- Profile Photo -->
        <div class="flex justify-content-center">
            <img *ngIf="userData.profilePhoto" [src]="userData.profilePhoto"
                [alt]="userData.name + ' ' + userData.surname + ' profile photo'" class="border-round-md max-w-20rem"
                style="height: min-content;"/>
            <div *ngIf="!userData.profilePhoto"
                class="border-round-md flex align-items-center justify-content-center surface-200 w-full h-min max-w-20rem"
                style="height: min-content; min-height: 10rem;">
                <i class="pi pi-user text-6xl text-white text-color-secondary"></i>
            </div>
        </div>

        <p class="text-lg font-semibold text-2xl">
            {{userData.name}} {{userData.surname}}
        </p>

        <a class="w-full" *ngIf="userData.isWhatsappEnabled"
            [href]="'https://wa.me/' + userData.areaCode + userData.phone">
            <p-button label="Message me on WhatsApp" fluid="true"></p-button>
        </a>

        <a class="w-full" *ngIf="userData.isWebsiteEnabled"
            [href]="userData.website.startsWith('https') ? userData.website : ('https://' + userData.website)">
            <p-button label="Visit my website" fluid="true"></p-button>
        </a>

        <a class="w-full" *ngIf="userData.phone" [href]="'tel:' + userData.areaCode + userData.phone">
            <p-button label="Call me" fluid="true"></p-button>
        </a>

        <a class="w-full" *ngIf="userData.email" [href]="'mailto:' + userData.email">
            <p-button label="Send Email" fluid="true"></p-button>
        </a>

        <p-button *ngIf="userData.isVcardEnabled" label="Save contact" outlined="true" severity="secondary"
            icon="pi pi-save" fluid="true" (click)="vCard()" />
    </div>

    <div *ngIf="notFound" class="flex flex-column gap-3">
        <p class="text-color-secondary">User not found</p>
    </div>
</main>